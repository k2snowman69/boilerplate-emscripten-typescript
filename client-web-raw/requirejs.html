<html>

<head>
    <title>Require js example</title>
    <script src="./node_modules/requirejs/require.js"></script>
    <script>
        var shared = null;
        require(["./node_modules/client-shared-js/ship/client-shared-js"], function (factory) {
            shared = factory({
                onRuntimeInitialized: function () {
                    // Remember that the context here is the created module.
                    // Further, this callback is called in the middle of construction, therefore
                    // the variable shared is not ready.
                    var stringFactory = new this.StringFactory();
                    var output = document.getElementById("hi");
                    window.setInterval(function () {
                        output.innerHTML = stringFactory.getString();
                    }, 1000);
                }
            });
        });
    </script>
</head>

<body>
    <div>This is an example of how to include an emscripten javascript library using requirejs</div>
    <div id="hi">Loading...</div>
</body>

</html>