<html>

<head>
    <title>Script tag example</title>
    <script type="" src="./node_modules/client-shared/ship/client-shared.js"></script>
    <script type="text/javascript">
        document.onreadystatechange = function () {
            if (document.readyState === "complete") {
                initApplication();
            }
        }
        function initApplication() {
            Module.createInstance({
                // Remember that the context here is the created module.
                // Further, this callback is called in the middle of construction, therefore
                // the variable shared is not ready.
                onRuntimeInitialized: function () {
                    var stringFactory = new this.StringFactory();
                    var output = document.getElementById("hi");
                    window.setInterval(function () {
                        output.innerHTML = stringFactory.getString();
                    }, 1000);
                },
                locateFile: function (filename) {
                    if (filename === 'client-shared.js.mem') {
                        return "./node_modules/client-shared/ship/client-shared.js.mem"
                    }
                }
            });
        }
    </script>
</head>

<body>
    <div>This is an example of how to include an emscripten javascript library directly using a script tag</div>
    <div id="hi">Loading...</div>
</body>

</html>